import{r as s,j as e,L as a}from"./index-e439054e.js";import{b as x}from"./authService-2d4415af.js";import{V as i,F as j}from"./ViewPanelCard-780dac58.js";import{B as m}from"./Basic3dViewPanel-6892a15b.js";import"./constants-81f60586.js";import"./index.min-45331c48.js";import"./OrbitControls-945b1259.js";const P=({shareableLink:l})=>{const[t,c]=s.useState(null),[o,u]=s.useState(!0),[n,d]=s.useState(null);if(s.useEffect(()=>{x(l).then(r=>c(r.project)).catch(r=>d(r.message||"Could not load project.")).finally(()=>u(!1))},[l]),o)return e.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-background",children:e.jsx(a,{})});if(n||!t)return e.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-background text-red-400",children:n||"Project not found."});const h={levels:t.levels,activeLevelIndex:0,planNorthDirection:t.planNorthDirection,propertyLines:t.propertyLines,terrainMesh:t.terrainMesh,zones:[],infrastructure:[],selectedObject:null,currentProject:t};return e.jsxs("div",{className:"w-screen h-screen bg-background text-white p-4",children:[e.jsxs("header",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:t.name}),e.jsx("p",{className:"text-sm text-slate-400",children:"Client Portal (Read-Only)"})]}),e.jsxs("main",{className:"h-[calc(100%-60px)] flex gap-4",children:[e.jsx("div",{className:"w-2/3 h-full",children:e.jsx(i,{title:"2D Floor Plan",children:e.jsx(j,{isReadOnly:!0,...h})})}),e.jsx("div",{className:"w-1/3 h-full",children:e.jsx(i,{title:"3D Visualization",children:e.jsx(s.Suspense,{fallback:e.jsx(a,{}),children:e.jsx(m,{levels:t.levels,activeLevelIndex:0,propertyLines:t.propertyLines,terrainMesh:t.terrainMesh,sunPosition:{azimuth:135,altitude:45},zones:[],infrastructure:[],selectedObject:null,setSelectedObject:()=>{},isWalkthroughActive:!1,setIsWalkthroughActive:()=>{},constructionSequence:null,activeTimelineWeek:null,isDigitalTwinModeActive:!1,digitalTwinData:null,activeDataOverlays:{energy:!1,stress:!1,occupancy:!1},liveSelections:{},currentUser:null,collaborators:[],isHolocronAuthoringMode:!1})})})})]})]})};export{P as default};

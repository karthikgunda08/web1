import{j as e,r,L as i}from"./index-e439054e.js";import{h}from"./projectService-1550175d.js";import{B as m}from"./Basic3dViewPanel-6892a15b.js";import"./constants-81f60586.js";import"./authService-2d4415af.js";import"./OrbitControls-945b1259.js";const f=({hotspot:t,onClose:s})=>{const n=()=>{switch(t.type){case"narrative":return e.jsx("p",{className:"text-slate-300 whitespace-pre-wrap",children:t.content});case"render":return e.jsx("img",{src:t.content,alt:t.title,className:"w-full h-auto rounded-md shadow-lg"});case"document":return e.jsxs("a",{href:t.content,target:"_blank",rel:"noopener noreferrer",download:t.title,className:"inline-block px-4 py-2 bg-sky-600 text-white font-semibold rounded-md hover:bg-sky-500",children:["Download ",t.title]});default:return e.jsx("p",{children:"Unsupported content type."})}};return e.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-full max-w-md bg-slate-900/70 backdrop-blur-md shadow-2xl border-l border-slate-700 flex flex-col animate-fade-in-right z-50",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-bold text-sky-300",children:t.title}),e.jsx("button",{onClick:s,className:"text-slate-400 hover:text-white",children:"Ã—"})]}),e.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:n()})]})},y=({shareableLink:t})=>{const[s,n]=r.useState(null),[c,d]=r.useState(!0),[l,u]=r.useState(null),[a,o]=r.useState(null);return r.useEffect(()=>{h(t).then(n).catch(x=>u(x.message||"Could not load this Holocron presentation.")).finally(()=>d(!1))},[t]),c?e.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-background",children:e.jsx(i,{})}):l||!s?e.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-background text-red-400",children:l||"Presentation not found."}):e.jsxs("div",{className:"w-screen h-screen bg-background relative overflow-hidden",children:[e.jsxs("header",{className:"absolute top-0 left-0 right-0 p-4 bg-gradient-to-b from-black/50 to-transparent z-10",children:[e.jsx("h1",{className:"text-2xl font-bold text-white text-shadow-custom",children:s.projectName}),e.jsx("p",{className:"text-sm text-slate-300 text-shadow-custom",children:"An Interactive Holocron Presentation by AuraOS"})]}),e.jsx(r.Suspense,{fallback:e.jsx(i,{}),children:e.jsx(m,{levels:s.levels,activeLevelIndex:0,propertyLines:s.propertyLines,terrainMesh:s.terrainMesh,sunPosition:{azimuth:135,altitude:45},hotspots:s.hotspots,onHotspotClick:o,zones:[],infrastructure:[],selectedObject:null,setSelectedObject:()=>{},isWalkthroughActive:!1,setIsWalkthroughActive:()=>{},constructionSequence:null,activeTimelineWeek:null,isDigitalTwinModeActive:!1,digitalTwinData:null,activeDataOverlays:{energy:!1,stress:!1,occupancy:!1},liveSelections:{},currentUser:null,collaborators:[],isHolocronAuthoringMode:!1})}),a&&e.jsx(f,{hotspot:a,onClose:()=>o(null)})]})};export{y as default};

import{r as n,a as f,j as e,L as g}from"./index-e439054e.js";import{a as h}from"./authService-2d4415af.js";import{M as p,a as x,b as j,c as y,d as k}from"./Modal-78058900.js";import{B as c}from"./Button-fcf173b3.js";import"./constants-81f60586.js";const v=async(a,r)=>h("/feedback",{method:"POST",body:JSON.stringify({category:a,message:r})}),w=({onClose:a})=>{const[r,m]=n.useState("general_feedback"),[t,u]=n.useState(""),[o,d]=n.useState(!1),{addNotification:i}=f(),b=async s=>{if(s.preventDefault(),!t.trim()){i("Please enter your feedback message.","error");return}d(!0);try{const l=await v(r,t);i(l.message,"success"),a()}catch(l){i(`Error: ${l.message}`,"error")}finally{d(!1)}};return e.jsxs(p,{onClose:a,children:[e.jsx(x,{children:e.jsx(j,{children:"Submit Feedback"})}),e.jsx(y,{children:e.jsxs("form",{id:"feedback-form",onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Category"}),e.jsxs("select",{id:"category",value:r,onChange:s=>m(s.target.value),className:"w-full p-2 bg-input rounded-md",children:[e.jsx("option",{value:"general_feedback",children:"General Feedback"}),e.jsx("option",{value:"feature_request",children:"Feature Request"}),e.jsx("option",{value:"bug_report",children:"Bug Report"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"Message"}),e.jsx("textarea",{id:"message",value:t,onChange:s=>u(s.target.value),rows:6,className:"w-full p-2 bg-input rounded-md",placeholder:"Your feedback helps us improve AuraOS...",required:!0})]})]})}),e.jsxs(k,{children:[e.jsx(c,{variant:"secondary",onClick:a,disabled:o,children:"Cancel"}),e.jsxs(c,{type:"submit",form:"feedback-form",disabled:o,children:[o&&e.jsx(g,{size:"h-4 w-4 mr-2"}),"Submit"]})]})]})};export{w as default};

import{u as O,r as a,j as e,L as x}from"./index-e439054e.js";import{B as t}from"./Button-fcf173b3.js";import{I as o}from"./Input-605e6434.js";import{L as r}from"./Label-4a29d029.js";import{M as R,a as g,b as p,c as j,d as f}from"./Modal-78058900.js";import{D as v}from"./DakshinVaarahiLogo-2a42c54f.js";const G=()=>{const{authModal:M,globalLoadingMessage:P,authError:k,setAuthModal:S,login:F,register:L,forgotPassword:E}=O(s=>({authModal:s.authModal,globalLoadingMessage:s.globalLoadingMessage,authError:s.authError,setAuthModal:s.setAuthModal,login:s.login,register:s.register,forgotPassword:s.forgotPassword})),[l,u]=a.useState(""),[d,w]=a.useState(""),[y,A]=a.useState(""),[N,z]=a.useState(""),[b,q]=a.useState(!1),[I,C]=a.useState(null),[c,m]=a.useState(M),h=s=>{if(s.preventDefault(),C(null),c==="register"&&d!==y){C("Passwords do not match.");return}c==="login"&&F(l,d),c==="register"&&L(l,d,N,b),c==="forgotPassword"&&E(l)},i=P!==null,n=k||I,B=()=>S(null),D=()=>{switch(c){case"login":return e.jsxs(e.Fragment,{children:[e.jsxs(g,{children:[e.jsx(v,{className:"w-16 h-auto mx-auto"}),e.jsx(p,{children:"Welcome Back"})]}),e.jsxs(j,{children:[n&&e.jsx("div",{className:"mb-4 p-3 bg-destructive/20 text-destructive-foreground rounded-md text-sm",children:n}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(r,{htmlFor:"email-login",children:"Email"}),e.jsx(o,{id:"email-login",type:"email",placeholder:"you@example.com",value:l,onChange:s=>u(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(r,{htmlFor:"password-login",children:"Password"}),e.jsx(o,{id:"password-login",type:"password",value:d,onChange:s=>w(s.target.value),required:!0})]}),e.jsx(t,{type:"submit",className:"w-full",disabled:i,children:i?e.jsx(x,{size:"h-5 w-5"}):"Login"})]})]}),e.jsxs(f,{className:"flex-col !items-start",children:[e.jsx(t,{variant:"link",size:"sm",onClick:()=>m("forgotPassword"),children:"Forgot Password?"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Don't have an account? ",e.jsx(t,{variant:"link",size:"sm",onClick:()=>m("register"),children:"Sign Up"})]})]})]});case"register":return e.jsxs(e.Fragment,{children:[e.jsxs(g,{children:[e.jsx(v,{className:"w-16 h-auto mx-auto"}),e.jsx(p,{children:"Create Your Account"})]}),e.jsxs(j,{children:[n&&e.jsx("div",{className:"mb-4 p-3 bg-destructive/20 text-destructive-foreground rounded-md text-sm",children:n}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(r,{htmlFor:"email-register",children:"Email"}),e.jsx(o,{id:"email-register",type:"email",placeholder:"you@example.com",value:l,onChange:s=>u(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(r,{htmlFor:"phone-register",children:"Phone Number"}),e.jsx(o,{id:"phone-register",type:"tel",placeholder:"+91...",value:N,onChange:s=>z(s.target.value)})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(r,{htmlFor:"password-register",children:"Password"}),e.jsx(o,{id:"password-register",type:"password",value:d,onChange:s=>w(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(r,{htmlFor:"confirm-password-register",children:"Confirm Password"}),e.jsx(o,{id:"confirm-password-register",type:"password",value:y,onChange:s=>A(s.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"whatsappOptIn",checked:b,onChange:s=>q(s.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),e.jsx(r,{htmlFor:"whatsappOptIn",className:"text-xs",children:"Receive occasional project suggestions on WhatsApp."})]}),e.jsx(t,{type:"submit",className:"w-full",disabled:i,children:i?e.jsx(x,{size:"h-5 w-5"}):"Create Account"})]})]}),e.jsx(f,{children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Already have an account? ",e.jsx(t,{variant:"link",size:"sm",onClick:()=>m("login"),children:"Login"})]})})]});case"forgotPassword":return e.jsxs(e.Fragment,{children:[e.jsxs(g,{children:[e.jsx(v,{className:"w-16 h-auto mx-auto"}),e.jsx(p,{children:"Reset Your Password"})]}),e.jsxs(j,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enter your email and we'll send you a reset link."}),n&&e.jsx("div",{className:"mb-4 p-3 bg-destructive/20 text-destructive-foreground rounded-md text-sm",children:n}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(r,{htmlFor:"email-forgot",children:"Email"}),e.jsx(o,{id:"email-forgot",type:"email",placeholder:"you@example.com",value:l,onChange:s=>u(s.target.value),required:!0})]}),e.jsx(t,{type:"submit",className:"w-full",disabled:i,children:i?e.jsx(x,{size:"h-5 w-5"}):"Send Reset Link"})]})]}),e.jsx(f,{children:e.jsx(t,{variant:"link",size:"sm",onClick:()=>m("login"),children:"Back to Login"})})]});default:return null}};return e.jsx(R,{onClose:B,children:D()})};export{G as default};

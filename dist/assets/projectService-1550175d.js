import{B as n}from"./constants-81f60586.js";import{a as r}from"./authService-2d4415af.js";const p=(e,t={})=>{console.log(`[Analytics] Track Event: "${e}"`,t)},j=async e=>{const{projectContent:t,projectName:s,commitMessage:a,existingProjectId:o,commitType:i="manual"}=e,l={...t,name:s,commitMessage:a,commitType:i,...o&&{existingProjectId:o}},c=await r("/projects",{method:"POST",body:JSON.stringify(l)});if(c&&c.project)return o?p("Project Version Saved",{projectId:o,type:i}):p("Project Created",{type:t.projectType}),c;throw new Error("Failed to save project or invalid response structure.")},y=async(e,t)=>r(`/projects/${e}/name`,{method:"PUT",body:JSON.stringify({name:t})}),u=async()=>r("/projects"),g=async e=>r(`/projects/${e}/analytics`),h=async(e,t)=>r(`/projects/${e}/documents`,{method:"POST",body:JSON.stringify(t)}),w=async(e,t)=>r(`/projects/${e}/renders`,{method:"POST",body:JSON.stringify(t)}),f=async(e,t)=>{const s=await r(`/projects/${e}/export-dwg`),a=window.URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=`${t.replace(/\s+/g,"_")}.dxf`,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(a),o.remove()},b=async e=>{const t=await fetch(`${n}/projects/holocron/${e}`);if(!t.ok){const s=await t.json();throw new Error(s.message||"Could not fetch Holocron data.")}return t.json()},P=async(e,t)=>r(`/projects/${e}/collaborators`,{method:"POST",body:JSON.stringify({email:t})}),$=async(e,t)=>r(`/projects/${e}/collaborators/${t}`,{method:"DELETE"}),E=async()=>{const e=await fetch(`${n}/projects/marketplace/templates`);if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch marketplace templates.")}return e.json()},k=async e=>r(`/projects/marketplace/templates/${e}/buy`,{method:"POST"}),O=async()=>{const e=await fetch(`${n}/projects/exchange/listings`);if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch exchange listings.")}return e.json()};export{O as a,k as b,w as c,h as d,f as e,g as f,E as g,b as h,P as i,u as l,$ as r,j as s,y as u};

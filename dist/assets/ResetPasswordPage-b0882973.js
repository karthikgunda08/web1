import{u as l,a as j,r,j as s,L as P}from"./index-e439054e.js";import{r as N}from"./authService-2d4415af.js";import{B as b}from"./Button-fcf173b3.js";import{I as c}from"./Input-605e6434.js";import{L as m}from"./Label-4a29d029.js";import{D as y}from"./DakshinVaarahiLogo-2a42c54f.js";import"./constants-81f60586.js";const I=({token:u})=>{const{setView:w}=l(),{addNotification:x}=j(),[t,p]=r.useState(""),[o,f]=r.useState(""),[d,i]=r.useState(!1),[n,a]=r.useState(null),h=async e=>{if(e.preventDefault(),t!==o){a("Passwords do not match.");return}a(null),i(!0);try{await N(u,t),x("Password reset successfully! Please log in.","success"),w("landing"),l.getState().setAuthModal("login")}catch(g){a(g.message||"Failed to reset password.")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center animated-gradient-bg",children:s.jsxs("div",{className:"max-w-md w-full p-8 bg-card rounded-xl shadow-2xl border border-border",children:[s.jsx(y,{className:"w-16 h-auto mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-center text-card-foreground",children:"Set New Password"}),s.jsxs("form",{onSubmit:h,className:"mt-8 space-y-6",children:[n&&s.jsx("p",{className:"text-sm text-center text-destructive",children:n}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(m,{htmlFor:"password",children:"New Password"}),s.jsx(c,{id:"password",type:"password",value:t,onChange:e=>p(e.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(m,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(c,{id:"confirmPassword",type:"password",value:o,onChange:e=>f(e.target.value),required:!0})]}),s.jsxs(b,{type:"submit",className:"w-full",disabled:d,children:[d&&s.jsx(P,{size:"h-5 w-5 mr-2"}),"Reset Password"]})]})]})})};export{I as default};
